(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04ac8fa2"],{"025c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fusing"},[i("div",{staticClass:"fusing-conter"},[i("header",[i("div",{staticClass:"header-img-box"},[t._m(0),i("div",{staticClass:"header-c",on:{click:t.fusingfoBtn}},[i("img",{attrs:{width:"30px",src:s("1faf"),alt:""}}),i("div",[t._v("返回")])])]),t._m(1)]),i("div",{staticClass:"fusing-body-conter"},[i("div",{staticClass:"fusing-body-c"},[i("div",{staticClass:"deposit-num"},[i("div",{staticClass:"deposit-num-cont"},[t._m(2),i("div",{staticClass:"xinxi",staticStyle:{width:"100%",height:"200px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-top":"20px"}},[i("div",{staticStyle:{width:"80%",height:"80%"}},[t._m(3),i("div",{staticClass:"deposit-cont-box"},[i("div",{staticClass:"itmeListBox"},[t._l(t.CardList,(function(e){return i("div",{key:e.index,staticStyle:{width:"100%",overflow:"hidden","margin-top":"10px"}},[i("div",{staticClass:"deposit-left-t",staticStyle:{"margin-left":"5px"}},[t._v(" "+t._s(e.name)+" ")]),i("div",{staticClass:"deposit-right-t",staticStyle:{color:"#584147"}},[t._v("1")])])})),i("div",{staticStyle:{width:"100%",overflow:"hidden","margin-top":"10px"}},[i("div",{staticClass:"deposit-left-t",staticStyle:{"margin-left":"5px"}},[t._v(" 共计 ")]),i("div",{staticClass:"deposit-right-t",staticStyle:{color:"white"}},[t._v(" "+t._s(t.CardList.length)+" ")])])],2)])])]),t._m(4),i("div",{staticClass:"deposit-num-cOne xinxi",staticStyle:{width:"100%",height:"120px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","margin-top":"20px"}},[i("div",{staticStyle:{width:"80%",height:"80%"}},[i("div",{staticStyle:{width:"100%",overflow:"hidden","margin-top":"10px"}},[i("div",{staticClass:"deposit-left-t",staticStyle:{"margin-left":"5px"}},[t._v(" 目前战力 ")]),i("div",{staticClass:"deposit-right-t",staticStyle:{color:"white"}},[t._v(" "+t._s(t.nowpower)+" ")])]),i("div",{staticStyle:{width:"100%",overflow:"hidden","margin-top":"10px"}},[i("div",{staticClass:"deposit-left-t",staticStyle:{"margin-left":"5px"}},[t._v(" 合成后战力 ")]),i("div",{staticClass:"deposit-right-t",staticStyle:{color:"#E2AA5E"}},[t._v(t._s(t.newpower))])]),i("div",{staticStyle:{width:"100%",overflow:"hidden","margin-top":"10px"}},[i("div",{staticClass:"deposit-left-t",staticStyle:{"margin-left":"5px"}},[t._v(" 需消耗M3T ")]),i("div",{staticClass:"deposit-right-t",staticStyle:{color:"#E2AA5E"}},[t._v(t._s(t.depleteNum))])])])]),i("div",{staticClass:"info-btn",staticStyle:{"margin-top":"20px"}},[t.showBuy1?i("div",{staticClass:"info-btn-box",on:{click:t.warrantBtn}},[i("div",{staticClass:"info-text-c",staticStyle:{color:"white"}},[t._v("授权卡牌")]),i("img",{staticClass:"head-img",attrs:{src:s("ed5b")}})]):t._e(),t.showBuy2?i("div",{staticClass:"info-btn-box",on:{click:t.warrantBtn1}},[i("div",{staticClass:"info-text-c",staticStyle:{color:"white"}},[t._v("授权M3T")]),i("img",{staticClass:"head-img",attrs:{src:s("ed5b")}})]):t._e(),t.showSate?i("div",{staticClass:"info-btn-box"},[t._m(5),i("img",{staticClass:"head-img",attrs:{src:s("ed5b")}})]):t._e(),t.showBuy?i("div",{staticClass:"info-btn-box1",on:{click:t.fusingBtn}},[i("div",{staticClass:"info-text-c"},[t._v("点击合成")]),i("img",{staticClass:"head-img",attrs:{src:s("ed5b")}})]):t._e()])])])])]),t.showModel?i("submitModel",{attrs:{Modelmsg:t.Modelmsg},on:{submitModelMethod:t.submitModelMethod}}):t._e()],1)])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-left"},[i("div",{staticClass:"header-left-cont"},[i("div",{staticClass:"head-left"},[i("img",{staticClass:"head-img",attrs:{src:s("266c")}}),i("img",{staticClass:"head-img",staticStyle:{position:"relative",top:"-50px",left:"-5px",width:"100px"},attrs:{src:s("590f")}})])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-img-h"},[i("img",{staticClass:"notice-img",attrs:{src:s("13db")}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-cont-h-l"},[i("div",{staticClass:"home-cont-h-t",staticStyle:{"padding-top":"12px"}},[i("img",{attrs:{width:"100px",src:s("b98b"),alt:""}})]),i("img",{staticClass:"notice-img",attrs:{src:s("13bd")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"100%",overflow:"hidden","margin-top":"10px"}},[s("div",{staticClass:"deposit-left-t",staticStyle:{"margin-left":"5px",color:"#E2AA5E"}},[t._v(" 已选择卡片 ")]),s("div",{staticClass:"deposit-right-t",staticStyle:{color:"#E2AA5E"}},[t._v("数量")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-cont-h-l",staticStyle:{"margin-top":"20px"}},[i("div",{staticClass:"home-cont-h-t",staticStyle:{"padding-top":"12px"}},[i("img",{attrs:{width:"100px",src:s("8783"),alt:""}})]),i("img",{staticClass:"notice-img",attrs:{src:s("13bd")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-text-c"},[s("div",{staticClass:"info-text-c1",staticStyle:{color:"white"}},[t._v("Pending")]),s("div",{staticClass:"info-text-c2"},[s("div"),s("div"),s("div")])])}],a=(s("d81d"),s("b0c0"),s("d3b7"),s("e25e"),s("25f0"),s("96cf"),s("3481")),r=s("cd9a"),o=s("76a0"),c={data:function(){return{CardList:[],tokenId:[],nowpower:0,newpower:0,showBuy:!1,showBuy1:!1,showBuy2:!0,showSate:!1,heroList:r.heroList,account:"",Web3:"",Modelmsg:"提交合成成功,请到背包看看吧",showModel:!1,depleteNum:0}},components:{submitModel:a["a"]},mounted:function(){var t,e=this;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(this.$getWbe3.Init((function(t){e.account=t,e.contracts=e.$Fun.MttToken();var s=e.$Fun.HeroCard().options.address;e.contracts.methods.allowance(e.account,s).call().then((function(t){e.allProvider=e.Web3.utils.fromWei(t),console.log(e.allProvider,9912311199),parseInt(e.allProvider)>0?(e.showBuy2=!1,e.showBuy1=!0):(e.showBuy1=!1,e.showBuy2=!0)}))}),(function(t){e.Web3=t})));case 2:return s.next=4,regeneratorRuntime.awrap(this.$store.mutations.initWeb3Account());case 4:return t=JSON.parse(sessionStorage.getItem("cardList")),t&&(this.CardList=t,this.tokenId=this.CardList.map((function(t){return t.tokenId})),this.CardList.map((function(t){"5"==t.genre&&(e.depleteNum=0,e.showBuy2=!1,e.showBuy1=!0),"4"==t.genre&&(e.depleteNum=1e3),"3"==t.genre&&(e.depleteNum=2e3),e.nowpower=e.nowpower+parseInt(t.power)})),this.newpower=Math.round(1.2*this.nowpower)),s.next=8,regeneratorRuntime.awrap(this.getAinfo());case 8:case"end":return s.stop()}}),null,this)},methods:{getAinfo:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.CardTokenfun=this.$store.state.CardTokenFun,this.M3Tfun=this.$store.state.M3Tfun;case 2:case"end":return t.stop()}}),null,this)},fusingfoBtn:function(){this.$router.push("/backpack")},warrantBtn1:function(){var t,e,s,i,n,a=this;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return this.showSate=!0,this.showBuy2=!1,r.next=4,regeneratorRuntime.awrap(this.$Fun.HeroCard().options.address);case 4:return t=r.sent,r.next=7,regeneratorRuntime.awrap(this.$Fun.MttToken());case 7:return e=r.sent,r.next=10,regeneratorRuntime.awrap(this.Web3.eth.getGasPrice());case 10:s=r.sent,i=199999999,n=this.Web3.utils.toWei(i.toString(),"ether"),this.$getWbe3.Approve(t,n,e,s,this.account,(function(t){t&&(a.showBuy1=!0)}));case 14:case"end":return r.stop()}}),null,this)},warrantBtn:function(){var t,e,s=this;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return this.showSate=!0,this.showBuy1=!1,i.next=4,regeneratorRuntime.awrap(this.$Fun.CardToken());case 4:return t=i.sent,i.next=7,regeneratorRuntime.awrap(this.Web3.eth.getGasPrice());case 7:e=i.sent,this.$getWbe3.approveMultiple(this.tokenId,t,e,this.account,(function(t){t&&(Object(o["Toast"])({message:"授权成功",position:"middle",duration:1e3}),s.showBuy1=!1,s.showBuy=!0,s.showSate=!1)}));case 9:case"end":return i.stop()}}),null,this)},fusingBtn1:function(){Object(o["Toast"])({message:"请先授权",position:"middle",duration:1e3})},fusingBtn:function(){var t,e,s=this;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return this.showSate=!0,this.showBuy=!1,i.next=4,regeneratorRuntime.awrap(this.$Fun.HeroCard());case 4:return t=i.sent,i.next=7,regeneratorRuntime.awrap(this.Web3.eth.getGasPrice());case 7:e=i.sent,this.$getWbe3.synthesis(t,this.tokenId,this.account,e,(function(t){if(s.showSate=!1,s.showBuy1=!0,s.showBuy=!1,t.events.Synthesis.returnValues){var e=t.events.Synthesis.returnValues;console.log(e);var i={};i.genre=e._quality,i.imgUrlC=100*parseInt(e["1"])+parseInt(e["2"]),i.page="store",i.power="",s.heroList.map((function(t){i.imgUrlC==t.no&&(i.name=t.name,i.name1=t.name1,i.doc=t.doc)}));var n=sessionStorage["account"];"5"==i.genre&&(s.caderP="白卡"),"4"==i.genre&&(s.caderP="蓝卡"),"3"==i.genre&&(s.caderP="紫卡"),"2"==i.genre&&(s.caderP="橙卡"),"1"==i.genre&&(s.caderP="金卡");var a=n.substr(0,4)+"..."+n.substr(-4);s.$store.state.televise="恭喜",s.$store.state.televise1=a,s.$store.state.televise2=s.caderP+" "+i.name,sessionStorage.setItem("objList",JSON.stringify(i))}s.$router.push("/fusionEnd"),sessionStorage.setItem("cardType",1)}));case 9:case"end":return i.stop()}}),null,this)},submitModelMethod:function(){this.showModel=!1}}},l=c,d=(s("ee1b"),s("2877")),u=Object(d["a"])(l,i,n,!1,null,"3b753d6e",null);e["default"]=u.exports},"13bd":function(t,e,s){t.exports=s.p+"img/shengjititle.8e4e7d9a.png"},"1faf":function(t,e,s){t.exports=s.p+"img/back.5b32a891.png"},"25f0":function(t,e,s){"use strict";var i=s("6eeb"),n=s("825a"),a=s("d039"),r=s("ad6d"),o="toString",c=RegExp.prototype,l=c[o],d=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u=l.name!=o;(d||u)&&i(RegExp.prototype,o,(function(){var t=n(this),e=String(t.source),s=t.flags,i=String(void 0===s&&t instanceof RegExp&&!("flags"in c)?r.call(t):s);return"/"+e+"/"+i}),{unsafe:!0})},3481:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popUp"},[i("div",{staticClass:"popUp-box"},[i("div",{staticClass:"popUp-num",on:{click:function(e){return e.stopPropagation(),t.doThis(e)}}},[t._m(0),i("div",{staticClass:"popUp-num-cont"},[i("div",{staticClass:"popUp-num-cont-test-box"},[i("div",{staticClass:"popUp-num-cont-test"},[t._v(t._s(t.Modelmsg))]),i("div",{staticClass:"popUp-num-cont-btn"},[i("div",{staticClass:"popUp-num-cont-right"},[i("img",{staticClass:"head-img",attrs:{src:s("720e")}}),i("div",{staticClass:"popUp-num-cont-lef-test",on:{click:function(e){return t.pulldownBtn()}}},[t._v(" 我知道了 ")])])])])])])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-b"},[i("img",{staticClass:"head-img",attrs:{src:s("969e")}})])}],a={props:{Modelmsg:String},data:function(){return{}},mounted:function(){},methods:{pulldownBtn:function(){this.$emit("submitModelMethod")},doThis:function(){}}},r=a,o=(s("ebcc"),s("2877")),c=Object(o["a"])(r,i,n,!1,null,"6fa87ab5",null);e["a"]=c.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var i=s("1d80"),n=s("5899"),a="["+n+"]",r=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),c=function(t){return function(e){var s=String(i(e));return 1&t&&(s=s.replace(r,"")),2&t&&(s=s.replace(o,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},"720e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAABSCAYAAACWlHK9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtxJREFUeNrs3MtKVWEYx+FliYLlKJpm4sgOTg3CTpSjHATRPQQWXUkFFXUXDWpmaGGKjSUdSdlUHHWAArX3xbVDxHQLgq6P54F/alaDD36stbd717HW2VntU1/sVmwkNlh/fTLWUwEH6VfsR2w5thibjk3UX7eto83Ij8XuxB7FLuffc/5wKDZiM7Gnsdex9YOI/GrsRey884Uj5XNsPPZ+ryv0/3THnsWmBA5HUnY5WXfavd8r+anY29gl5wiNMBe7HVttJ/LT9eX/nHODRlmsH16v7Ha7npf8NwKHRhqs++3eLfLHsWFnBY2V/T753+36zWrzZ3BA892oNp80/xf58dh8fbkHmm8hdjG23rpdvydwKEo+r3Z362Py+84EijPeul3vj49LlZeqQmnyJbADeSUfFTgUKbsezchHnAUUayQj94QblOtcRt7nHKBYZzLyXucAxerNyLucAxSr65gzgLKJHEQOiBwQOSByQOSAyAGRg8gBkQMiB0QOiBwQOSByEDkgckDkgMgBkQMiB0QOiBxEDogcEDkgckDkgMgBkYPIAZEDIgdEDogcEDkgchA5IHJA5IDIAZEDIgdEDmyN/I9jgGL9yci/Owco1veMfNk5QLG+ZeSLzgGKtZCRTzsHKNbHjrXOzv74ZCnW4TygKBuxgbySf8nanQcUZyb7bv2c/JXzgOI8z1/ydj0/Ho/NxwadCxQhn1C/EFtvXcnXYg+dCxRjPAPPT7a+rPVd7KWzgcbLjidbX7Ru11u6Yx9iw84JGulT7Grsd+s3tr9BJb8xFltwVtDIx+FjWwPfKfK0ErsSm3Nm0BjZ60jdb7VX5Gk1dq3afAp+w/nBkfa87nV1p29uf0y+k+uxZ7HzzhKOlM+xB7Gp3f5QO/9pRP4DQ7F7sVlXdjh0s3WPQ3sF3u6VfLu+2K36/j9fPHM2diLW4+zhQP2K/Yx9rTafVMs3k01U+3x7+F8BBgD8oWpxUyFwBgAAAABJRU5ErkJggg=="},7773:function(t,e,s){},8783:function(t,e,s){t.exports=s.p+"img/zlmsg.2e9381a9.png"},"969e":function(t,e,s){t.exports=s.p+"img/63.d2603086.png"},ad6d:function(t,e,s){"use strict";var i=s("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b98b:function(t,e,s){t.exports=s.p+"img/hcmsg.da67f8d7.png"},e25e:function(t,e,s){var i=s("23e7"),n=s("e583");i({global:!0,forced:parseInt!=n},{parseInt:n})},e583:function(t,e,s){var i=s("da84"),n=s("58a8").trim,a=s("5899"),r=i.parseInt,o=/^[+-]?0[Xx]/,c=8!==r(a+"08")||22!==r(a+"0x16");t.exports=c?function(t,e){var s=n(String(t));return r(s,e>>>0||(o.test(s)?16:10))}:r},ebcc:function(t,e,s){"use strict";var i=s("fcfa"),n=s.n(i);n.a},ed5b:function(t,e,s){t.exports=s.p+"img/shouquan.84029399.png"},ee1b:function(t,e,s){"use strict";var i=s("7773"),n=s.n(i);n.a},fcfa:function(t,e,s){}}]);
//# sourceMappingURL=chunk-04ac8fa2.4a2ac4b6.js.map